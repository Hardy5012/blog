{"md5":"cd1d3cce097c7e503fab3e4d8d99da07","content":"<nil id=\"nil\">\n\n<div id=\"outline-container-sec-1\" class=\"outline-2\">\n<h2 id=\"sec-1\">Virtualenv</h2>\n<div class=\"outline-text-2\" id=\"text-1\">\n</div><div id=\"outline-container-sec-1-1\" class=\"outline-3\">\n<h3 id=\"sec-1-1\">Introduction</h3>\n<div class=\"outline-text-3\" id=\"text-1-1\">\n<p>\nvirtualenv is a tool to create isolated Python environments.\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-1-2\" class=\"outline-3\">\n<h3 id=\"sec-1-2\">Installation</h3>\n<div class=\"outline-text-3\" id=\"text-1-2\">\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pip install virtualenv</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n<!-- more -->\n</p>\n</div>\n</div>\n<div id=\"outline-container-sec-1-3\" class=\"outline-3\">\n<h3 id=\"sec-1-3\">Usage</h3>\n<div class=\"outline-text-3\" id=\"text-1-3\">\n<p>\n1.&#x4E3A;&#x4E00;&#x4E2A;&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x73AF;&#x5883;&#xFF1A;\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> my_project_folder</span><br><span class=\"line\">virtualenv venv</span><br></pre></td></tr></table></figure>\n</div>\n<p>\nvirtualenv venv &#x5C06;&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5305;&#x542B;&#x4E86; Python &#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF0C;&#x4EE5;&#x53CA; pip &#x5E93;&#x7684;&#x4E00;&#x4EFD;&#x62F7;&#x8D1D;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x5B89;&#x88C5;&#x5176;&#x4ED6;&#x5305;&#x4E86;&#x3002;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x7684;&#x540D;&#x5B57;&#xFF08;&#x6B64;&#x4F8B;&#x4E2D;&#x662F; venv&#xFF09;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F;&#x7684;&#xFF1B;&#x82E5;&#x7701;&#x7565;&#x540D;&#x5B57;&#x5C06;&#x4F1A;&#x628A;&#x6587;&#x4EF6;&#x5747;&#x653E;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x3002;\n</p>\n\n<p>\n&#x5728;&#x4EFB;&#x4F55;&#x4F60;&#x8FD0;&#x884C;&#x547D;&#x4EE4;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x8FD9;&#x4F1A;&#x521B;&#x5EFA; Python &#x7684;&#x62F7;&#x8D1D;&#xFF0C;&#x5E76;&#x5C06;&#x4E4B;&#x653E;&#x5728;&#x53EB;&#x505A; venv &#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x3002;\n</p>\n\n<p>\n&#x4F60;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#x4E00;&#x4E2A; Python &#x89E3;&#x91CA;&#x5668;&#xFF1A;\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">virtualenv -p /usr/bin/python2.<span class=\"number\">7</span> venv</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n&#x8FD9;&#x5C06;&#x4F1A;&#x4F7F;&#x7528; /usr/bin/python2.7 &#x4E2D;&#x7684; Python &#x89E3;&#x91CA;&#x5668;&#x3002;\n2.&#x8981;&#x5F00;&#x59CB;&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x73AF;&#x5883;&#xFF0C;&#x5176;&#x9700;&#x8981;&#x88AB;&#x6FC0;&#x6D3B;&#xFF1A;\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> venv/bin/activate</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n&#x4ECE;&#x73B0;&#x5728;&#x8D77;&#xFF0C;&#x4EFB;&#x4F55;&#x4F60;&#x4F7F;&#x7528; pip &#x5B89;&#x88C5;&#x7684;&#x5305;&#x5C06;&#x4F1A;&#x653E;&#x5728; ``venv &#x6587;&#x4EF6;&#x5939;&#x4E2D;&#xFF0C;&#x4E0E;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#x7684; Python &#x9694;&#x7EDD;&#x5F00;\n3.&#x5982;&#x679C;&#x4F60;&#x5728;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x4E2D;&#x6682;&#x65F6;&#x5B8C;&#x6210;&#x4E86;&#x5DE5;&#x4F5C;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x505C;&#x7528;&#x5B83;&#xFF1A;\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deactivate</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n&#x8981;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x73AF;&#x5883;&#xFF0C;&#x53EA;&#x9700;&#x5220;&#x9664;&#x5B83;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x3002;&#xFF08;&#x8981;&#x8FD9;&#x4E48;&#x505A;&#x8BF7;&#x6267;&#x884C; rm -rf venv&#xFF09;\n4.&#x5176;&#x4ED6;&#x6CE8;&#x610F;\n&#x8FD0;&#x884C;&#x5E26; &#x2013;no-site-packages &#x9009;&#x9879;&#x7684; virtualenv &#x5C06;&#x4E0D;&#x4F1A;&#x5305;&#x62EC;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#x7684;&#x5305;&#x3002;&#x8FD9;&#x53EF;&#x7528;&#x4E8E;&#x4FDD;&#x6301;&#x5305;&#x5217;&#x8868;&#x5E72;&#x51C0;&#xFF0C;&#x4EE5;&#x9632;&#x4EE5;&#x540E;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x5B83;&#x3002;\n&#x8BE6;&#x7EC6;&#x547D;&#x4EE4;&#xFF1A;<a href=\"https://virtualenv.pypa.io/en/latest/reference/\">https://virtualenv.pypa.io/en/latest/reference/</a>\n</p>\n</div>\n</div>\n</div>\n\n<div id=\"outline-container-sec-2\" class=\"outline-2\">\n<h2 id=\"sec-2\">virtualenvwrapper</h2>\n<div class=\"outline-text-2\" id=\"text-2\">\n<p>\nvirtualenvwrapper &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x547D;&#x4EE4;&#x4F7F;&#x5F97;&#x548C;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x5DE5;&#x4F5C;&#x53D8;&#x5F97;&#x6109;&#x5FEB;&#x8BB8;&#x591A;&#x3002;&#x5B83;&#x628A;&#x4F60;&#x6240;&#x6709;&#x7684;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x90FD;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#x3002;\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install virtualenvwrapper</span><br><span class=\"line\"><span class=\"built_in\">export</span> WORKON_HOME=~/Envs</span><br><span class=\"line\"><span class=\"built_in\">source</span> /usr/<span class=\"built_in\">local</span>/bin/virtualenvwrapper.sh</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n&#x57FA;&#x672C;&#x4F7F;&#x7528;\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkvirtualenv venv</span><br><span class=\"line\">workon venv</span><br><span class=\"line\">deactivate</span><br><span class=\"line\">rmvirtualenv venv</span><br><span class=\"line\"></span><br><span class=\"line\">mkproject myproject</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n&#x5176;&#x4ED6;&#x6709;&#x7528;&#x7684;&#x547D;&#x4EE4;\nlsvirtualenv\n&#x5217;&#x4E3E;&#x6240;&#x6709;&#x7684;&#x73AF;&#x5883;&#x3002;\ncdvirtualenv\n&#x5BFC;&#x822A;&#x5230;&#x5F53;&#x524D;&#x6FC0;&#x6D3B;&#x7684;&#x865A;&#x62DF;&#x73AF;&#x5883;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#x8FD9;&#x6837;&#x4F60;&#x5C31;&#x80FD;&#x591F;&#x6D4F;&#x89C8;&#x5B83;&#x7684; site-packages&#x3002;\ncdsitepackages\n&#x548C;&#x4E0A;&#x9762;&#x7684;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x662F;&#x76F4;&#x63A5;&#x8FDB;&#x5165;&#x5230; site-packages &#x76EE;&#x5F55;&#x4E2D;&#x3002;\nlssitepackages\n&#x663E;&#x793A; site-packages &#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x3002;\n</p>\n</div>\n</div>\n\n<div id=\"outline-container-sec-3\" class=\"outline-2\">\n<h2 id=\"sec-3\">autoenv</h2>\n<div class=\"outline-text-2\" id=\"text-3\">\n<p>\nautoen &#x53EF;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x73AF;&#x5883;&#x53D8;&#x91CF;\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pip install autoenv</span><br><span class=\"line\"><span class=\"built_in\">source</span> ~/.bashrc</span><br><span class=\"line\">touch .env</span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n\n\n<div id=\"outline-container-sec-4\" class=\"outline-2\">\n<h2 id=\"sec-4\">Python3</h2>\n<div class=\"outline-text-2\" id=\"text-4\">\n</div><div id=\"outline-container-sec-4-1\" class=\"outline-3\">\n<h3 id=\"sec-4-1\">pre install</h3>\n<div class=\"outline-text-3\" id=\"text-4-1\">\n<ol class=\"org-ol\">\n<li>install sqlite to solve virtualenv: ImportError: No module named _sqlite3\n</li>\n</ol>\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install sqlite sqlite-devel  openssl-devel</span><br></pre></td></tr></table></figure>\n</div>\n<ol class=\"org-ol\">\n<li>install tkinter\n</li>\n</ol>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    yum -y install tkinter tcl-devel tk-devel</span><br><span class=\"line\">wget https://centos7.iuscommunity.org/ius-release.rpm</span><br><span class=\"line\">sudo rpm -Uvh ius-release*rpm</span><br><span class=\"line\">sudo yum install python36u-tkinter</span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n\n<div id=\"outline-container-sec-4-2\" class=\"outline-3\">\n<h3 id=\"sec-4-2\">Install pip for Python 3:</h3>\n<div class=\"outline-text-3\" id=\"text-4-2\">\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://www.python.org/ftp/python/<span class=\"number\">3.6</span>.<span class=\"number\">3</span>/Python-<span class=\"number\">3.6</span>.<span class=\"number\">3</span>.tar.xz </span><br><span class=\"line\">tar --xz -xvf Python-<span class=\"number\">3.6</span>.<span class=\"number\">1</span>.tar.xz</span><br><span class=\"line\">sudo ./configure --prefix=/usr/<span class=\"built_in\">local</span>/python3</span><br><span class=\"line\">sudo make &amp;&amp; sudo make install</span><br><span class=\"line\">sudo ln <span class=\"operator\">-s</span> /usr/<span class=\"built_in\">local</span>/python3/bin/python3 /usr/bin/python3</span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n<div id=\"outline-container-sec-4-3\" class=\"outline-3\">\n<h3 id=\"sec-4-3\">Install pip3</h3>\n<div class=\"outline-text-3\" id=\"text-4-3\">\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget --no-check-certificate https://github.com/pypa/pip/archive/<span class=\"number\">9.0</span>.<span class=\"number\">1</span>.tar.gz</span><br><span class=\"line\">tar -zvxf <span class=\"number\">9.0</span>.<span class=\"number\">1</span>.tar.gz</span><br><span class=\"line\"><span class=\"built_in\">cd</span> pip-<span class=\"number\">9.0</span>.<span class=\"number\">1</span>/</span><br><span class=\"line\">sudo python3  setup.py install</span><br><span class=\"line\">sudo ln <span class=\"operator\">-s</span> /usr/<span class=\"built_in\">local</span>/python3/bin/pip /usr/bin/pip3</span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n\n<div id=\"outline-container-sec-4-4\" class=\"outline-3\">\n<h3 id=\"sec-4-4\">virtualenv &amp;&amp; virtualenvwrapper</h3>\n<div class=\"outline-text-3\" id=\"text-4-4\">\n<p>\ninstall autoenv\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pip install autoenv</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;source `which activate.sh`&quot;</span> &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>\n</div>\n<p>\ninstall virtualenv and virtualenvwrapper\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo pip3 install virtualenv</span><br><span class=\"line\">sudo pip3 install virtualenvwrapper</span><br></pre></td></tr></table></figure>\n</div>\n\n<p>\nCreate a folder for your virtualenvs (~/.virtualenvs) and set it as WORKON_HOME:\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkdir ~/.virtualenvs</span><br></pre></td></tr></table></figure>\n</div>\n<p>\nAdd the following lines to ~/.bashrc:\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> WORKON_HOME=~/.virtualenvs</span><br><span class=\"line\"><span class=\"built_in\">export</span> VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3 <span class=\"comment\"># This needs to be placed before the virtualenvwrapper command</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> VIRTUALENVWRAPPER_VIRTUALENV=/usr/bin/virtualenv-<span class=\"number\">3.4</span></span><br><span class=\"line\"><span class=\"built_in\">source</span> /usr/<span class=\"built_in\">local</span>/python3/bin/virtualenvwrapper.sh</span><br></pre></td></tr></table></figure>\n</div>\n<p>\nClose and re-open your shell and you&apos;re ready to go. Here are the basic commands for using virtualenvwrapper:\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mkvirtualenv virtualenv_name <span class=\"comment\"># Create virtualenv</span></span><br><span class=\"line\">workon virtualenv_name <span class=\"comment\"># Activate/switch to a virtualenv</span></span><br><span class=\"line\">deactivate virtualenv_name <span class=\"comment\"># Deactivate virtualenv</span></span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n\n<div id=\"outline-container-sec-4-5\" class=\"outline-3\">\n<h3 id=\"sec-4-5\">&#x6CE8;&#x610F;&#x70B9;</h3>\n<div class=\"outline-text-3\" id=\"text-4-5\">\n<p>\n1.&#x5728;&#x8FD0;&#x884C; workon &#x6307;&#x5B9A; python &#x7248;&#x672C;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x662F; 2 &#x4E0E; 3 &#x7248;&#x672C;&#x4E4B;&#x95F4;&#x7684;&#x5207;&#x6362;&#x5219;&#x9700;&#x8981;&#x4FEE;&#x6539;/usr/bin/python\n2.yum &#x7684;&#x529F;&#x80FD;&#x4F9D;&#x8D56; Python2 &#x66F4;&#x6539; 3 &#x540E;&#x9700;&#x8981;&#x505A;&#x5982;&#x4E0B;&#x4FEE;&#x6539;&#xFF1A;\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi /usr/bin/yum</span><br></pre></td></tr></table></figure>\n</div>\n<p>\n&#x6253;&#x5F00;&#x6587;&#x4EF6;&#xFF0C;&#x4FEE;&#x6539;&#x7B2C;&#x4E00;&#x884C;&#x4E3A;&#xFF1A;\n</p>\n\n<div class=\"org-src-container\">\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/python2.7</span></span><br></pre></td></tr></table></figure>\n</div>\n</div>\n</div>\n</div>\n</nil>\n"}
